(this["webpackJsonpwookie-movies"]=this["webpackJsonpwookie-movies"]||[]).push([[0],[,,,,,,,,,,,,,function(e,r,t){e.exports={description:"movieCard_description__7gDPS",wrapper:"movieCard_wrapper__3KlcW",poster:"movieCard_poster__2GQ_K",textColumn:"movieCard_textColumn__1cJbF",titleRating:"movieCard_titleRating__2_699",title:"movieCard_title__3Q-U3"}},,,,,,,,,function(e,r,t){e.exports={wrapper:"searchBar_wrapper__GOqOj",searchButton:"searchBar_searchButton__3ypQE"}},,,function(e,r,t){e.exports={mainWrapper:"wrapper_mainWrapper__3RBAW",thrasherPreventer:"wrapper_thrasherPreventer__RI7n0"}},function(e,r,t){e.exports={wrapper:"movieGroup_wrapper__3EqC8",genreHeader:"movieGroup_genreHeader__1d9r6"}},function(e,r,t){e.exports={wrapper:"backdrop_wrapper__15DkI",backdrop:"backdrop_backdrop__3NtMK"}},,,,function(e,r,t){e.exports={wrapper:"header_wrapper__2GQkS"}},function(e,r,t){e.exports={wrapper:"movieSmallPreview_wrapper__JbKY2"}},function(e,r,t){e.exports={wrapper:"movieList_wrapper__3RaTw"}},function(e,r,t){e.exports={wrapper:"pageLoader_wrapper__y3mEt"}},function(e,r,t){e.exports={wrapper:"pageError_wrapper__3khJu"}},function(e,r,t){e.exports={wrapper:"nothingFound_wrapper__VnP67"}},,function(e,r,t){e.exports={description:"stars_description__ufTS9",wrapper:"stars_wrapper__2qk2Q"}},function(e,r,t){e.exports={wrapper:"pageNotFound_wrapper__1z-1X"}},,,,,,,function(e,r,t){},,,,,,,function(e,r,t){"use strict";t.r(r);var n=t(1),a=t.n(n),c=t(29),i=t.n(c),s=t(57),o=t(37),u=(t(46),t(9)),p=t(6),j=t(58),l={headers:{Authorization:"Bearer Wookie2019"}},d=function(){return fetch("https://wookie.codesubmit.io/movies",l).then((function(e){return e.json()}))},b=t(41);function h(e){var r,t=(r=e.flatMap((function(e){return e.genres})),Object(b.a)(new Set(r))).map((function(r){var t=e.filter((function(e){return e.genres.includes(r)}));return[r,t]}));return Object.fromEntries(t)}function v(e){return e.join(", ")}var x=t(15),O=t(22),f=t.n(O),m=t(56),_=t(0),w=function(){var e=Object(n.useState)(""),r=Object(x.a)(e,2),t=r[0],a=r[1],c=Object(p.f)();var i=Object(m.a)((function(e){e?c.push("/search?query=".concat(e)):c.push("")}),500);return Object(_.jsxs)("div",{className:f.a.wrapper,children:[Object(_.jsx)("button",{className:f.a.searchButton,onClick:function(){return i(t)}}),Object(_.jsx)("input",{type:"search",value:t,placeholder:"Search","aria-label":"Search through movies",onChange:function(e){var r=e.currentTarget.value;a(r),i(r)},onKeyDown:function(e){return"Enter"===e.key&&i(t)}})]})},g=t(31),k=t.n(g),N=function(){return Object(_.jsxs)("div",{className:k.a.wrapper,children:[Object(_.jsx)(u.b,{to:"/",children:Object(_.jsxs)("h1",{children:["Wookie",Object(_.jsx)("br",{}),"Movies"]})}),Object(_.jsx)(w,{})]})},C=t(25),y=t.n(C),S=function(e){return Object(_.jsx)("div",{className:y.a.thrasherPreventer,children:Object(_.jsx)("div",{className:y.a.mainWrapper,children:e.children})})},B=t(26),F=t.n(B),P=t(32),W=t.n(P),E=function(e){var r=e.movie,t=e.width,n=void 0===t?200:t;return Object(_.jsx)(u.b,{className:W.a.wrapper,to:"details/".concat(r.slug),children:Object(_.jsx)("img",{width:n,src:r.poster,alt:r.title})},r.id)},L=t(33),M=t.n(L),R=function(e){var r=e.movies;return Object(_.jsx)("div",{className:M.a.wrapper,children:r.map((function(e){return Object(_.jsx)(E,{movie:e},e.id)}))})},q=function(e){var r=e.groupedMovies;return Object(_.jsx)("div",{className:F.a.wrapper,children:Object.entries(r).sort((function(e,r){return function(e,r){var t=e.toUpperCase(),n=r.toUpperCase();return t<n?-1:t>n?1:0}(Object(x.a)(e,1)[0],Object(x.a)(r,1)[0])})).map((function(e){var r=Object(x.a)(e,2),t=r[0],n=r[1];return Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{className:F.a.genreHeader,children:t}),Object(_.jsx)(R,{movies:n})]},t)}))})};var D=t(34),I=t.n(D),A=function(){return Object(_.jsx)("div",{className:I.a.wrapper,children:"Loading..."})},G=t(35),H=t.n(G),J=function(){return Object(_.jsx)("div",{className:H.a.wrapper,children:"Something went wrong, please refresh the page :("})},K=t(36),Q=t.n(K),T=function(){return Object(_.jsx)("div",{className:Q.a.wrapper,children:"Nothing Found!"})},U=function(){var e,r=new URLSearchParams(Object(p.g)().search),t=Object(p.f)(),a=null!==(e=r.get("query"))&&void 0!==e?e:"",c=Object(j.a)(["search",a],(function(){return function(e){return fetch("https://wookie.codesubmit.io/movies?q="+e,l).then((function(e){return e.json()}))}(a)}),{enabled:""!==a}),i=c.isLoading,s=c.data;return Object(n.useEffect)((function(){a||t.push("/")}),[a,t]),i?Object(_.jsx)(A,{}):s&&s.movies.length?Object(_.jsx)(R,{movies:s.movies}):s?Object(_.jsx)(T,{}):Object(_.jsx)(J,{})},z=t(38),Y=t.n(z),V=function(e){var r=e.painted;return Object(_.jsx)("div",{style:{width:"20px"},children:Object(_.jsxs)("svg",{viewBox:"0 0 500 500",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("defs",{children:Object(_.jsx)("g",{id:"countour",children:Object(_.jsx)("path",{d:"m2.41245,184.82088l189.83844,0l58.66154,-183.72615l58.66157,183.72615l189.83841,0l-153.58225,113.54771l58.66458,183.72615l-153.58231,-113.5508l-153.58228,113.5508l58.66459,-183.72615l-153.5823,-113.54771z"})})}),Object(_.jsx)("use",{xlinkHref:"#countour",fill:r?"yellow":"transparent",stroke:"black"}),Object(_.jsx)("use",{xlinkHref:"#countour",fill:"transparent",stroke:"black",strokeWidth:"30"})]})})},X=function(e){var r=e.rating;return Object(_.jsx)("div",{className:Y.a.wrapper,children:new Array(5).fill(0).map((function(e,t){return Object(_.jsx)(V,{painted:t<r},t)}))})},Z=t(13),$=t.n(Z),ee=function(e){var r,t=e.movie,n=function(e,r,t){return Math.floor(e*t/r)}(t.imdb_rating,10,5),a=v(Array.isArray(t.director)?t.director:[t.director]);return Object(_.jsxs)("div",{className:$.a.wrapper,style:{},children:[Object(_.jsx)("img",{className:$.a.poster,src:t.poster,alt:t.title}),Object(_.jsxs)("div",{className:$.a.textColumn,children:[Object(_.jsxs)("div",{className:$.a.titleRating,children:[Object(_.jsxs)("h2",{className:$.a.title,children:[t.title," (IMDb: ",t.imdb_rating,")"]}),Object(_.jsx)(X,{rating:n})]}),Object(_.jsxs)("div",{children:[(r=t.released_on,new Date(r).getFullYear())," | ",t.length," | ",a]}),Object(_.jsxs)("div",{children:["cast: ",v(t.cast)]}),Object(_.jsx)("div",{className:$.a.description,children:t.overview})]})]})};function re(e){var r=Object(p.h)("/details/:slug");if(!r)return null;var t=r.params.slug,n=e.find((function(e){return e.slug===t}));return null!==n&&void 0!==n?n:null}var te=function(e){var r=re(e.movies);return r?Object(_.jsx)(ee,{movie:r}):Object(_.jsx)(T,{})},ne=t(27),ae=t.n(ne),ce=function(){var e,r=Object(j.a)("movies",d).data,t=re(null!==(e=null===r||void 0===r?void 0:r.movies)&&void 0!==e?e:[]);return r&&t?Object(_.jsx)("div",{className:ae.a.wrapper,children:Object(_.jsx)("div",{className:ae.a.backdrop,style:{backgroundImage:"url(".concat(t.backdrop,")")}})}):null},ie=t(39),se=t.n(ie),oe=function(){return Object(_.jsx)("div",{className:se.a.wrapper,children:"Sorry, We couldn't find that page :("})},ue=function(){var e=Object(j.a)("movies",d),r=e.isLoading,t=e.data;if(r)return Object(_.jsx)(A,{});if(!t)return Object(_.jsx)(J,{});var n=h(t.movies);return Object(_.jsxs)(S,{children:[Object(_.jsx)(N,{}),Object(_.jsxs)(p.c,{children:[Object(_.jsx)(p.a,{exact:!0,path:"/",children:Object(_.jsx)(q,{groupedMovies:n})}),Object(_.jsx)(p.a,{path:"/search",children:Object(_.jsx)(U,{})}),Object(_.jsxs)(p.a,{path:"/details",children:[Object(_.jsx)(te,{movies:t.movies}),Object(_.jsx)(ce,{})]}),Object(_.jsx)(p.a,{path:"",children:Object(_.jsx)(oe,{})})]})]})},pe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,59)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,c=r.getLCP,i=r.getTTFB;t(e),n(e),a(e),c(e),i(e)}))},je=(t(40),new s.a);i.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(o.a,{client:je,children:Object(_.jsxs)(u.a,{children:[Object(_.jsx)(ue,{}),!1]})})}),document.getElementById("root")),pe()}],[[53,1,2]]]);
//# sourceMappingURL=main.071335a4.chunk.js.map